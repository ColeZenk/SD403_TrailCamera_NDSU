# Test Charecterization Plan 201

## Temporal Noise Diagnosis Plan

---

## Brief

Given the system architecture described in SDD301, it is important that image data is able to be differentiated sensibly. The unfortunate truth to embedded systems, is that sensor data (including that from a camera) tends to be prone to error. Though Espressif is good about providing high qulity capture drivers, their software does not cover the error content that images will fundamentally inherit. To get proper *useful* data downstream, filtering is required. The key factor to filter here is **temporal noise**. Temporal noise however, cannot be filtered without proper diagnosis.

## Test approach

To properly diagnosis temporal noise the camera sensor is proned to, a sensible approach might be to capture multiple images with no change in camera position and harvest statistics from the resulting data. This is a perfect use case for a python or MATLAB simulation.

## Requirements

Capture conditions

- Frames under the conditions the camera will actually operate in.
- Minimum daylight ambient and nighttime ambient.
  - 100,000 LUX
  - 500 LUX
  - Ambient environment
- Same static scene, camera untouched.
- 20-30 frames per condition.
- 640×480 grayscale

Temporal statistics

- Per-pixel mean and variance across the frame stack.

Diff histogram

- Distribution of (frame[n] - frame[n-1]) across all pixels.
- Fit a Gaussian, extract σ. (This is the single most important number — it directly replaces magic 3).

Mean-variance relationship
- Plot per-pixel variance vs per-pixel mean brightness.
- The shape will indicate Poisson (shot noise, slope ~1), Gaussian (read noise, flat), or mixed.
  - This determines whether threshold should be flat or brightness-dependent.

Spatial correlation
- Autocorrelation of a single noise frame (frame minus temporal mean).
  - Indicates if noise energy lands in low or high WHT coefficients.

Block-level impact

- Run actual block detection on the static-scene diffs and count how many false-positive changed blocks are yeilded. (That's the direct metric)
