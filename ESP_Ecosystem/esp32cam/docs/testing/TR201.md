# Test Characterization Report 201

## Temporal Noise Characterization — Pixel-Level Diff

---

### **Objective**

Characterize the frame-to-frame temporal noise of the ESP32-CAM sensor under controlled static conditions. The goal is to quantify effective per-pixel noise for downstream motion detection, accounting for raw sensor behavior, minor scene variability, and high-frequency edges.

---

### **Test Setup**

* **Camera:** ESP32-CAM
* **Resolution:** 320×240 grayscale (raw, linear)
* **Frames Captured:** 53 total; first 5 discarded due to startup instability
* **Lighting:** Ambient indoor lighting (static scene)
* **Scene Conditions:** Camera stationary; no object motion

---

### **Processing Approach**

1. **Mean Removal:**
   Each frame’s mean intensity was subtracted to eliminate global exposure drift.

2. **Gaussian Blur:**
   Applied a Gaussian filter with σ = 2 to suppress high-frequency edge noise.

3. **Temporal Difference Computation:**
   Frame-to-frame differences were computed on blurred frames.

4. **Statistics Extraction:**

   * Mean of differences
   * Standard deviation (σ)
   * Estimated per-frame σ (σ / √2)
   * Suggested 3σ threshold
   * Minimum and maximum difference

---

### **Results (Blurred Frames, Pixel-Level)**

| Metric                 | Value     |
| ---------------------- | --------- |
| Frames analyzed        | 48        |
| Mean frame difference  | 0.0000    |
| Temporal diff σ        | 29.7110   |
| Estimated per-frame σ  | 21.0089   |
| Suggested 3σ threshold | 89.1331   |
| Minimum difference     | –237.0242 |
| Maximum difference     | 239.7917  |

---

### **Frame Means After Discard**

| Frame # | Mean Intensity |
| ------- | -------------- |
| 0       | 121.9611       |
| 1       | 119.0629       |
| 2       | 118.1455       |
| 3       | 119.6357       |
| 4       | 120.3635       |
| 5       | 119.9223       |
| 6       | 118.6354       |
| 7       | 122.5802       |
| 8       | 123.2278       |
| 9       | 118.9088       |
| 10      | 116.7571       |
| 11      | 119.4589       |
| 12      | 115.1302       |
| 13      | 114.2439       |
| 14      | 114.4546       |
| 15      | 119.3452       |
| 16      | 118.0712       |
| 17      | 118.4393       |
| 18      | 125.2520       |
| 19      | 125.0065       |
| 20      | 124.9449       |
| 21      | 124.6025       |
| 22      | 125.1325       |
| 23      | 125.2892       |
| 24      | 126.6551       |
| 25      | 114.9200       |
| 26      | 123.7804       |
| 27      | 124.0769       |
| 28      | 128.0118       |
| 29      | 124.0341       |
| 30      | 126.4335       |
| 31      | 124.7306       |
| 32      | 123.0986       |
| 33      | 114.6716       |
| 34      | 111.8026       |
| 35      | 111.0829       |
| 36      | 117.1287       |
| 37      | 117.0376       |
| 38      | 118.2456       |
| 39      | 118.8591       |
| 40      | 115.6411       |
| 41      | 111.6783       |
| 42      | 122.9598       |
| 43      | 120.6531       |
| 44      | 116.5328       |
| 45      | 110.8085       |
| 46      | 112.4566       |
| 47      | 111.6110       |

---

### **Observations**

* Raw per-pixel differences without blur had σ ≈ 36, min/max ±237.
* Gaussian blur (σ = 2) reduced σ to 29.7110, showing some suppression of high-frequency noise.
* Mean removal eliminated exposure drift — mean diff is essentially zero.
* Despite blur, extreme pixel-level values (min –237, max 239) indicate edges and texture still dominate single-pixel differences.
* Pixel-level diff is too noisy for direct thresholding; block-level aggregation is the next step to stabilize temporal noise.

---

### **Conclusion**

* Pixel-level temporal differences are highly variable.
* Gaussian smoothing reduces variance but does not eliminate extreme outliers.
* A 3σ threshold (~89) is too high for sensitive motion detection at the pixel level.
* Block-level aggregation is necessary to produce a reliable per-frame noise estimate (~5–10) suitable for embedded motion detection.

---

### **Next Steps**

1. Apply block aggregation (e.g., 4×4) and recompute temporal σ.
2. Repeat tests under varying lighting conditions (daylight/night/low-light).
3. Map block-level σ to motion detection thresholds for estimating false positives.
